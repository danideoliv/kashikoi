<!doctype html>
<html lang="pt-br">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Função Afim</title>
		<link
			href="https://fonts.googleapis.com/css2?family=Paytone+One&display=swap"
			rel="stylesheet"
		/>
		<link
			href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap"
			rel="stylesheet"
		/>
		<link href="style1.css" rel="stylesheet" type="text/css" />
		<link rel="icon" href="https://i.postimg.cc/43v8FRnh/Kashikoi-20240828-161534-0000.png">
		
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous"></script>

<!-- A parte abaixo é responsável por renderizar os textos matemáticos. Não me atrevo a mexer. Irei deixar os comentários originais do código-->

<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
          // customised options
          // • auto-render specific keys, e.g.:
          delimiters: [
              {left: '$$', right: '$$', display: true},
              {left: '$', right: '$', display: false},
              {left: '\\(', right: '\\)', display: false},
              {left: '\\[', right: '\\]', display: true}
          ],
          // • rendering keys, e.g.:
          throwOnError : false
        });
    });
</script>

<style>
  @font-face {
    font-family: "KaTeX";
    src: url("KaTeX_Math-Regular.ttf");
}

  @font-face {
    font-family: "KaTeX Numbers";
    src: url("KaTeX_Main-Regular.ttf");
  }
  
</style>
	</head>
	
	<!-- Cabeçalho do site -->

	<body>
		<header>
			<div id="title">
				<a href="/index.html">
          <img id="logo" src="https://i.postimg.cc/V6YKxZbZ/Kashikoi-20240828-160733-0000.png">
        </a>
			</div>
		</header>
    
    <!-- Menu do site. Não sei se vou deixá-lo aí ou remove-lo (não aceita circunflexo ¯\_(ツ)_/¯) futuramente-->
    
		<div class="hamburger-menu">
			<input id="menu-toggle" type="checkbox" onclick="overlay()" />
			<label class="menu-btn" for="menu-toggle">
				<span></span>
			</label>
			<ul class="menu-box">
				<li><a class="menu-item" href="#">Configuração</a></li>
				<li><a class="menu-item" href="#">Histórico</a></li>
				<li><a class="menu-item" href="#">Contato</a></li>
			</ul>
		</div>

    <!-- Camada escura que fica sobre o que não faz parte do menu quando ele tá ativado -->
    
		<div id="overlay"></div>

    <!-- Barra de navegação que muda dependendo do tamanho da tela (não programei a responsividade aunda) -->
    
		<div class="sidenav">
			<a id="funcao-afim" href="funcao-afim.html">Função afim</a>
			<a id="funcao-quadratica" href="#">Função quadrática</a>
			<a id="funcao-modular" href="#">Função modular</a>
			<a id="funcao-exponencial" href="#">Função exponecial</a>
			<a id="funcao-logaritmica" href="#">Função logarítmica</a>
		</div>

    <!-- Pra fazer a barra, foi necessário colocá-la numa div aparte do conteúdo principal, que seria "main" -->
    
		<div class="main">
		  
		  <!-- Espaço pra informar os valores de a e b preenchendo a função -->
		  
      <div id="function">
        <h1>Gráfico da função conhecidos os coeficientes</h1>
			  Digite os valores de $a$ e $b$:<br><br>
		  	<label for="box-a">$f(x)=$</label>
  			<input type="text" id="box-a" placeholder="a" max-length="5"/>
			
  			<label for="box-b">$x+$</label>
	  		<input type="text" id="box-b" placeholder="b" max-length="5"/>
      </div>
			
			<button id="function-btn" onclick="calcFunc()">Calcular</button>
			
		<div id="graphics" style="width: 90%; max-width: 700px"></div>
			
			<p id="sec-part"><a href="#">Coeficientes da função conhecidos dois pontos</a></p>
			
			<footer>
        <p>Autor: Daniel Guerra</p>
        <address>Contato: <a href="mailto:dangue612345@gmail.com">dangue612345@gmail.com</a></address>
      </footer>
		</div>

		<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

<script>
          let afim = `-6*x+9`;
        
          let xValues = [];
          let yValues = [];
          for (let x = -20; x <= 20; x += 0.1) {
            xValues.push(x);
            yValues.push(eval(afim));
          };
          
          let data = [{
            x: xValues, 
            y: yValues, 
            mode: "lines",
            line: {
              color: "#83C5BE"
            }
          }];
          
          let layout = {
            title: {
              text: "f(x) = - 6 + 9",
              font: {
                family: "KaTeX, KaTeX Numbers",
                size: 20,
                color: "black"
              }
            },
            
            xaxis: {
                title: "Eixo x",
                titlefont: {
                  family: "KaTeX"
                }
              },
            yaxis: {
              title: "Eixo y",
              titlefont: {
              family: "KaTeX"
              }
            }
          };
          
          Plotly.newPlot("graphics", data, layout, {scrollZoom: true}, {staticPlot: true});
    
    function calcFunc() {
        funcAfim = [
        document.getElementById("box-a").value, 
        document.getElementById("box-b").value
        ];
        
        try {
          let afim = `${funcAfim[0]}*x+${funcAfim[1]}`;
        
          const xValues = [];
          const yValues = [];
          for (let x = -20; x <= 20; x += 0.1) {
            xValues.push(x);
            yValues.push(eval(afim));
          };
          
          const data = [{
            x: xValues, 
            y: yValues, 
            mode: "lines",
            line: {
              color: "#83C5BE"
            }
          }];
          
          if (funcAfim[0] >= 0 && funcAfim[1] >= 0) {
            var exp = `f(x) = ${funcAfim[0]} + ${funcAfim[1]}`;
          } else if (funcAfim[0] < 0 && funcAfim[1] >= 0){
            var exp = `f(x) = ${funcAfim[0].split("").join(" ")} + ${funcAfim[1]}`;
          } else if (funcAfim[0] >= 0 && funcAfim[1] < 0) {
            var exp = `f(x) = ${funcAfim[0]} ${funcAfim[1].split("").join(" ")}`;
          } else {
            var exp = `f(x) = ${funcAfim[0].split("").join(" ")} ${funcAfim[1].split("").join(" ")}`
          };
          
          const layout = {
            title: {
              text: exp,
              font: {
                family: "KaTeX, KaTeX Numbers",
                size: 20,
                color: "black"
              }
            },
            
            xaxis: {
                title: "Eixo x",
                titlefont: {
                  family: "KaTeX"
                }
              },
            yaxis: {
              title: "Eixo y",
              titlefont: {
              family: "KaTeX"
              }
            }
          };
          
          Plotly.newPlot("graphics", data, layout, {scrollZoom: true}, {staticPlot: true});
        } catch(err) {
          alert("Coloque apenas números. E lembre-se de não deixar espaços em branco!");
        };
    };
</script>
		<script src="script.js"></script>
	</body>
</html>
